#include "_doctype.html"
<HTML>
<HEAD> <TITLE>libcurl - installing the PHP Binding</TITLE>
</HEAD>

#define PHP_INSTALL
#define CURL_URL libcurl/php/install.html

#include "_menu.html"
#include "setup.t"
#include "download.t"

WHERE3(libcurl, "/libcurl/", PHP Binding, "/libcurl/php/", Install)

TITLE(Installing the PHP binding)
<p>
  You might also find it helpful to install Apache + PHP + CURL + SSL using
  the <a href="http://www.apachetoolbox.com/">Apache Toolbox</a>.

<p>
 Original instruction was contributed by <b>Lim Chung Keng</b>. Kudos!

<p>
 My purpose is to have : PHP code with curl functions (using curl_init etc.)
 calling HTTPS server.
<p>
 Build OpenSSL (In openssl-0.9.x directory)
<ol>
 <li> ./config
 <li> make
 <li> make test
 <li> make install
</ol>

<p>
Build CURL (In curl-7.x.x directory)
<ol>
 <li> ./configure --disable-ipv6 --with-ssl=/usr/local/ssl (if only ssl was
built here)
 <li> make
 <li> make install (libcurl.so is now in /usr/local/lib)
</ol>

<p>
Build PHP (In php-4.0.xpl1 directory)
<ol>
 <li> To make -lssl comes before -lcrypto (as advised), search for "-lcrypto"
in ./configure and put "-lssl" before it (*).
 <li>
./configure --with-mysql --with-openssl=/usr/local/ssl --with-curl=/usr/local/lib --with-apache=../apache_1.3.x<br>
    (In most cases of linking problem, it should complain here in debug.log)
 <li> make
 <li> make install (If --with-apache option is omitted, it should generate php
executable in /usr/loca/bin)
 <li> Library for modphp4 is now in apache_1.3.x/src/modules/php4
</ol>

<p>
Build and install SSL-aware Apache (In mod_ssl-2.8.xxxx directory)
<ol>
 <li>
./configure --with-apache=../apache1.3.x --with-ssl=/usr/local/ssl --prefix=/usr/local/apache --activate-module=src/modules/php4/libphp4.a
 <li> Follow remaining steps the output tells.
 <li> Restart your apache... BINGO!
</ol>

<p>
(*) = You can optionally do the replaceing with this set of commands:
<ol>
<li> sed 's/-lcrypto/-lssl -lcrypto/g' configure > c2
<li> rm -f configure
<li> cp c2 configure
<li> chmod 755 configure
</ol>

#include "_footer.html"

</BODY>
</HTML>
